{% extends 'base.html' %}
{% load static %}
{% block title %}Viral Genome Database{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/installation.css' %}">
<link rel="stylesheet" href="{% static 'css/index.css' %}">
{% endblock %}

{% block content %}
<div class="container-installation">
    <h1>Viral Genome Database</h1>

    <ul class="nav nav-tabs" id="vGenomeTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">Overview</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="toolkit-tab" data-bs-toggle="tab" data-bs-target="#toolkit" type="button" role="tab">Viral Genome Toolkit</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="database-tab" data-bs-toggle="tab" data-bs-target="#database" type="button" role="tab">Viral Genome Database</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="webresource-tab" data-bs-toggle="tab" data-bs-target="#webresource" type="button" role="tab">Web Resources</button>
        </li>
    </ul>

    <div class="tab-content mt-3">
        <!-- Overview Tab -->
        <div class="tab-pane fade show active" id="overview" role="tabpanel">
            <!-- <h2>The Viral Genome Database</h2> -->
            <p>The Viral Genome Database is a front-end GUI and API that uses the database and workflows curated from the Viral Genome Toolkit.</p>
            <!-- <ul>
                <li><h3>Viral Genome Toolkit</h3></li>
                <li>
                    <h3>Viral Genome Database</h3>
                    <ul>
                        <li>Database</li>
                        <li>API</li>
                        <li>Web Resource</li>
                    </ul>
                </li>
            </ul> -->
            <img class="formatted" src="frontend/static/images/v-g_flowchart.png" alt="API 1">
        </div>

        <!-- Toolkit Tab -->
        <div class="tab-pane fade" id="toolkit" role="tabpanel">
            <h2>Viral Genome Toolkit</h2>
            <p>
                V-gTK (Virus Genome Toolkit) a software framework for end-to-end management of viral genomes covering curation, annotation, 
                and structured organization built with reproducibility and shareability. It deals with metadata from GenBank and tracks provenance 
                and versions, integrates the major and minor updated with the existing system to build up-to-date ready to use databse resource for 
                deep virus analysis.
            </p>

            <p>Major functions:</p>
            <ul>
                <li>Calculate alignment coordinates</li>
                <li>Phylogenetics with placements</li>
                <li>Major and minor clade assignments</li>
                <li>GenBank Sequence submission</li>
            </ul>

            <p>Download the V-gTK codebase: <a href="https://github.com/josephhughes/V-gTK">GitHub Link</a></p>
            <p>Installation instructions: <a href="#https://josephhughes.github.io/V-gTK/index.html">V-gTK Installation</a></p>
        

        </div>

        <!-- Database Tab -->
        <div class="tab-pane fade" id="database" role="tabpanel">
            <h2>Viral Genome Database</h2>
            <p>
                V-gDB is a specialized genome database designed for Viruses, 
                providing researchers with tools to explore, analyze, and interpret viral 
                genomic data. This platform offers an comprehensive API, easy-to-install system
                for local development, a clear database schema, integrated web resources, 
                and tailored functionalities that support in-depth virus research.
            </p>
             <ul>
                <li>Use the <a href="installation/">Installation Guide</a> to install a local version of V-gDB</li>
                <li>Refer to the core <a href="schema/">core schema</a> for database format requirements if creating your own database.</li>
                <li>Use the <a href="api_manual/">API</a> to integrate V-gDB data and analysis tools into your own workflows </li>
            </ul>
            <p>Refer to the <a href="schema/">core schema</a> for database format requirements if creating your own database.</p>
        </div>

        <!-- Web Resources Tab -->
        <div class="tab-pane fade" id="webresource" role="tabpanel">
            <h2>Viral Genome Web Resources</h2>
            <p>We offer a GUI template linked to the V-gDB API for visualization and analysis.</p>
            <p>Advanced GUIs that are virus specific are also available.</p>
            <p>Available web resources:</p>
            <table class="table table-striped table-bordered table-font">
                <thead>
                    <tr>
                        <th>Resource</th>
                        <th>Web Resource</th>
                        <th>Description</th>
                        <th>Github Repository</th>
                        <th>Database Download</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>RABV-gDB</td>
                        <td><a href="https://gdb-web-dev.cvr.gla.ac.uk">gdb-web-dev.cvr.gla.ac.uk</a></td>
                        <td></td>
                        <td><a href="https://github.com/centre-for-virus-research/RABV-gDB">https://github.com/centre-for-virus-research/RABV-gDB</a></td>
                        <td><a href="#"></a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // check if there's a hash in the URL
    const hash = window.location.hash;
    if (hash) {
      // find the tab trigger button that matches the hash target
      const tabTriggerEl = document.querySelector(`[data-bs-target="${hash}"]`);
      if (tabTriggerEl) {
        const tab = new bootstrap.Tab(tabTriggerEl);
        tab.show(); // programmatically activate the tab
      }
    }
  });
</script>
{% endblock %}
