{% extends 'base.html' %}
{% load static %}
{% block title %}Viral Genome Database - Installation Guide{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/installation.css' %}">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <!-- Bootstrap 5 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap Bundle JS (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

{% block content %}
<div class="container-home">
    <h1>V-gDB Installation Guide</h1>

    <p>
        The Viral Genome Database (V-gDB) can be installed locally on your system. This allows you to connect 
        your own viral genome databases, customize API endpoints, and integrate with your tools or GUIs.
    </p>


    <!-- Nav Tabs -->
<ul class="nav nav-tabs" id="installationTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="getting-started-tab" data-bs-toggle="tab" data-bs-target="#getting-started" type="button" role="tab">Getting Started</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="setup-tab" data-bs-toggle="tab" data-bs-target="#setup" type="button" role="tab">Setup Project</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="requirements-tab" data-bs-toggle="tab" data-bs-target="#requirements" type="button" role="tab">Install Requirements</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="database-tab" data-bs-toggle="tab" data-bs-target="#database" type="button" role="tab">Connect Database</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="start-server-tab" data-bs-toggle="tab" data-bs-target="#start-server" type="button" role="tab">Start Server</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="next-steps-tab" data-bs-toggle="tab" data-bs-target="#next-steps" type="button" role="tab">Next Steps</button>
      </li>
  </ul>
  
  <!-- Tab Content -->
  <div class="tab-content mt-3" id="installationTabContent">
  
    <div class="tab-pane fade show active" id="getting-started" role="tabpanel">
      <h2>Getting Started</h2>
      <ol>
        <li>Follow the steps below to install and run V-gDB on your computer.</li>
        <li>After installation, you can either:
            <ul>
                <li>Download a sample viral database</li>
                <li>Or create your own database using the <strong>Viral Genome Toolkit (V-gTK)</strong>.</li>
            </ul>
        </li>
        <li>Once connected, you can query the database via the API, Python tools, or connect it to our frontend GUI system.</li>
    </ol>
    </div>
  
    <div class="tab-pane fade" id="setup" role="tabpanel">
      <h2>Setup V-gDB Project</h2>
      <p>Create and activate a Python virtual environment:</p>

      <pre><code># Create virtual environment
  python -m venv v-gdb
  
  # Activate on Windows
  v-gdb\Scripts\activate
  
  # Activate on macOS/Linux
  source v-gdb/bin/activate
      </code></pre>
      
    </div>
  
    <div class="tab-pane fade" id="requirements" role="tabpanel">

        <h2>Install Core Requirements</h2>

        <p>Install Django (required for the V-gDB API):</p>
        <pre><code>pip install Django</code></pre>

        <p>Clone the V-gDB repository:</p>
        <pre><code>git clone https://github.com/centre-for-virus-research/V-gDB</code></pre>

        <p>Install project requirements:</p>

        <pre><code>cd V-gDB 
            pip install -r requirements.txt</code></pre>

    </div>

    
  
    <div class="tab-pane fade" id="database" role="tabpanel">
      <h2>Connect SQLite Database</h2>
      <p>
        For development, you can:
    </p>
    <ul>
        <li>Curate your own viral database using the <a href="/installation">V-gTK pipeline</a></li>
        <li>Or download a pre-curated <a href="/installation">viral database</a></li>
    </ul>

    <p>Once you have a database, update <code>backend/settings.py</code> to configure the database connection. Edit the <code>DATABASES</code> section with the path to your database:</p>

    <pre><code>
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': '/path/to/your-database.db',  # Replace with your DB file path
        'USER': 'gluetools',                 # Replace if using another DB engine
        'PASSWORD': 'glue12345',
        'HOST': 'localhost',
        'PORT': '3306',
    }
}
    </code></pre>
    </div>
  
    <div class="tab-pane fade" id="start-server" role="tabpanel">
      <h2>Start the Server</h2>
      <pre><code>python manage.py runserver</code></pre>
      <pre><code>python manage.py runserver</code></pre>

      <p>Then navigate to <a href="http://localhost:8000/">http://localhost:8000/</a> in your browser.</p>
  
      <p>If installed successfully, you will see:</p>
      <img src="{% static 'images/success_install.png' %}" alt="Successful Installation" class="installation-image">
  
      <h2>Next Steps</h2>
      <ul>
          <li>Start building custom API endpoints.</li>
          <li>Connect the GUI frontend for visualization.</li>
          <li>Integrate with your research tools and pipelines.</li>
      </ul>
    </div>

    <div class="tab-pane fade" id="next-steps" role="tabpanel">
    
        <h2>Next Steps</h2>
        <ul>
            <li>Explore pre-defined <a href="/api">API endpoints</a>.</li>
            <li><a href="/gui">Connect the GUI frontend</a> for visualization.</li>
            <li>Integrate with your research tools and pipelines.</li>
        </ul>
      </div>
  
  </div>
   
   
</div>
{% endblock %}
